(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-chat~pages-index-index"],{"0cb1":function(e,t,n){"use strict";function r(e,t,n){return e.on(t,n),function(){e.off(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.on=r},"10b5":function(e,t,n){"use strict";var r=n("4ea4");n("99af"),n("a15b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=r(n("d2d3")),i=r(n("86b2"));function s(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||o.default))return new XMLHttpRequest}catch(n){}if(!t)try{return new(i.default[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}},"1fac":function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}n("fb6a"),n("a434"),t.Emitter=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},2246:function(e,t,n){"use strict";var r=n("4ea4");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var o,i=r(n("45eb")),s=r(n("7e84")),a=r(n("262e")),c=r(n("2caf")),u=r(n("d4ec")),f=r(n("bee2")),l=n("1fac"),h=n("c20e"),d=n("d57d"),p=5;t.protocol=p,t.PacketType=o,function(e){e[e["CONNECT"]=0]="CONNECT",e[e["DISCONNECT"]=1]="DISCONNECT",e[e["EVENT"]=2]="EVENT",e[e["ACK"]=3]="ACK",e[e["CONNECT_ERROR"]=4]="CONNECT_ERROR",e[e["BINARY_EVENT"]=5]="BINARY_EVENT",e[e["BINARY_ACK"]=6]="BINARY_ACK"}(o||(t.PacketType=o={}));var y=function(){function e(){(0,u.default)(this,e)}return(0,f.default)(e,[{key:"encode",value:function(e){return e.type!==o.EVENT&&e.type!==o.ACK||!(0,d.hasBinary)(e)?[this.encodeAsString(e)]:(e.type=e.type===o.EVENT?o.BINARY_EVENT:o.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==o.BINARY_EVENT&&e.type!==o.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var t=(0,h.deconstructPacket)(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();t.Encoder=y;var v=function(e){(0,a.default)(n,e);var t=(0,c.default)(n);function n(){return(0,u.default)(this,n),t.call(this)}return(0,f.default)(n,[{key:"add",value:function(e){var t;if("string"===typeof e)t=this.decodeString(e),t.type===o.BINARY_EVENT||t.type===o.BINARY_ACK?(this.reconstructor=new m(t),0===t.attachments&&(0,i.default)((0,s.default)(n.prototype),"emitReserved",this).call(this,"decoded",t)):(0,i.default)((0,s.default)(n.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!(0,d.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,(0,i.default)((0,s.default)(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===o[r.type])throw new Error("unknown packet type "+r.type);if(r.type===o.BINARY_EVENT||r.type===o.BINARY_ACK){var i=t+1;while("-"!==e.charAt(++t)&&t!=e.length);var s=e.substring(i,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){var a=t+1;while(++t){var c=e.charAt(t);if(","===c)break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";var u=e.charAt(t+1);if(""!==u&&Number(u)==u){var f=t+1;while(++t){var l=e.charAt(t);if(null==l||Number(l)!=l){--t;break}if(t===e.length)break}r.id=Number(e.substring(f,t+1))}if(e.charAt(++t)){var h=b(e.substr(t));if(!n.isPayloadValid(r.type,h))throw new Error("invalid payload");r.data=h}return r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case o.CONNECT:return"object"===typeof t;case o.DISCONNECT:return void 0===t;case o.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case o.EVENT:case o.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case o.ACK:case o.BINARY_ACK:return Array.isArray(t)}}}]),n}(l.Emitter);function b(e){try{return JSON.parse(e)}catch(t){return!1}}t.Decoder=v;var m=function(){function e(t){(0,u.default)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return(0,f.default)(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=(0,h.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},"23e0":function(e,t,n){"use strict";var r=n("4ea4");n("4160"),n("fb6a"),n("a434"),n("dca8"),n("5377"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var o=r(n("b85c")),i=r(n("d4ec")),s=r(n("bee2")),a=r(n("45eb")),c=r(n("7e84")),u=r(n("262e")),f=r(n("2caf")),l=n("2246"),h=n("0cb1"),d=n("1fac"),p=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),y=function(e){(0,u.default)(n,e);var t=(0,f.default)(n);function n(e,r,o){var s;return(0,i.default)(this,n),s=t.call(this),s.connected=!1,s.disconnected=!0,s.receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=e,s.nsp=r,o&&o.auth&&(s.auth=o.auth),s.io._autoConnect&&s.open(),s}return(0,s.default)(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[(0,h.on)(e,"open",this.onopen.bind(this)),(0,h.on)(e,"packet",this.onpacket.bind(this)),(0,h.on)(e,"error",this.onerror.bind(this)),(0,h.on)(e,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(p.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var o={type:l.PacketType.EVENT,data:n,options:{}};o.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]&&(this.acks[this.ids]=n.pop(),o.id=this.ids++);var i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,s=this.flags.volatile&&(!i||!this.connected);return s||(this.connected?this.packet(o):this.sendBuffer.push(o)),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:l.PacketType.CONNECT,data:t})})):this.packet({type:l.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){var t=e.nsp===this.nsp;if(t)switch(e.type){case l.PacketType.CONNECT:if(e.data&&e.data.sid){var n=e.data.sid;this.onconnect(n)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case l.PacketType.EVENT:this.onevent(e);break;case l.PacketType.BINARY_EVENT:this.onevent(e);break;case l.PacketType.ACK:this.onack(e);break;case l.PacketType.BINARY_ACK:this.onack(e);break;case l.PacketType.DISCONNECT:this.ondisconnect();break;case l.PacketType.CONNECT_ERROR:var r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=this._anyListeners.slice(),i=(0,o.default)(r);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.apply(this,e)}}catch(u){i.e(u)}finally{i.f()}}(0,a.default)((0,c.default)(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:l.PacketType.ACK,id:e,data:o})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io["_destroy"](this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:l.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}]),n}(d.Emitter);t.Socket=y},"257e":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"262e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=o(n("b380"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.default)(e,t)}},"2caf":function(e,t,n){"use strict";n("4ae1"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=s(n("7e84")),o=s(n("d967")),i=s(n("99de"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,o.default)();return function(){var n,o=(0,r.default)(e);if(t){var s=(0,r.default)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return(0,i.default)(this,n)}}},"32ad":function(e,t,n){"use strict";var r=n("4ea4");n("4160"),n("c975"),n("a9e3"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;var o=r(n("d4ec")),i=r(n("bee2")),s=r(n("262e")),a=r(n("2caf")),c=n("6c21"),u=r(n("fcd9")),f=r(n("b5e0")),l=n("5806"),h=function(e){(0,s.default)(n,e);var t=(0,a.default)(n);function n(){var e;return(0,o.default)(this,n),e=t.apply(this,arguments),e.polling=!1,e}return(0,i.default)(n,[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this,n=function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};(0,l.decodePayload)(e,this.socket.binaryType).forEach(n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,(0,l.encodePayload)(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,u.default)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=f.default.encode(e),o=-1!==this.opts.hostname.indexOf(":");return t+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"name",get:function(){return"polling"}}]),n}(c.Transport);t.Polling=h},"45eb":function(e,t,n){"use strict";n("e439"),n("5d41"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=o(n("5d34"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?t.default=i=Reflect.get:t.default=i=function(e,t,n){var o=(0,r.default)(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},i(e,n,o||e)}},"49c1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return r.Socket}}),Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}}),Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return i.transports}}),Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return s.installTimerFunctions}}),t.protocol=void 0;var r=n("66cc"),o=n("6c21"),i=n("8619"),s=n("f5cf"),a=r.Socket.protocol;t.protocol=a},5377:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("ad6d"),s=n("9f7f").UNSUPPORTED_Y;r&&("g"!=/./g.flags||s)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},"53ca":function(e,t,n){"use strict";function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.default=r=function(e){return typeof e}:t.default=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},5806:function(e,t,n){"use strict";var r=n("4ea4");n("4160"),n("a15b"),n("ac1f"),n("1276"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return i.default}}),t.decodePayload=t.encodePayload=t.protocol=void 0;var o=r(n("fbcb")),i=r(n("f8a8")),s=String.fromCharCode(30),a=function(e,t){var n=e.length,r=new Array(n),i=0;e.forEach((function(e,a){(0,o.default)(e,!1,(function(e){r[a]=e,++i===n&&t(r.join(s))}))}))};t.encodePayload=a;var c=function(e,t){for(var n=e.split(s),r=[],o=0;o<n.length;o++){var a=(0,i.default)(n[o],t);if(r.push(a),"error"===a.type)break}return r};t.decodePayload=c;var u=4;t.protocol=u},"5be4":function(e,t,n){"use strict";var r=n("dbce"),o=n("4ea4");n("4160"),n("c975"),n("b64b"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var i=o(n("d4ec")),s=o(n("bee2")),a=o(n("257e")),c=o(n("262e")),u=o(n("2caf")),f=n("49c1"),l=n("23e0"),h=r(n("2246")),d=n("0cb1"),p=o(n("8725")),y=n("1fac"),v=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(e,r){var o,s;(0,i.default)(this,n),o=t.call(this),o.nsps={},o.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",o.opts=r,(0,f.installTimerFunctions)((0,a.default)(o),r),o.reconnection(!1!==r.reconnection),o.reconnectionAttempts(r.reconnectionAttempts||1/0),o.reconnectionDelay(r.reconnectionDelay||1e3),o.reconnectionDelayMax(r.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(s=r.randomizationFactor)&&void 0!==s?s:.5),o.backoff=new p.default({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==r.timeout?2e4:r.timeout),o._readyState="closed",o.uri=e;var c=r.parser||h;return o.encoder=new c.Encoder,o.decoder=new c.Decoder,o._autoConnect=!1!==r.autoConnect,o._autoConnect&&o.open(),o}return(0,s.default)(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new f.Socket(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=(0,d.on)(n,"open",(function(){r.onopen(),e&&e()})),i=(0,d.on)(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&o();var a=this.setTimeoutFn((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&a.unref(),this.subs.push((function(){clearTimeout(a)}))}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push((0,d.on)(e,"ping",this.onping.bind(this)),(0,d.on)(e,"data",this.ondata.bind(this)),(0,d.on)(e,"error",this.onerror.bind(this)),(0,d.on)(e,"close",this.onclose.bind(this)),(0,d.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new l.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=Object.keys(this.nsps),n=0,r=t;n<r.length;n++){var o=r[n],i=this.nsps[o];if(i.active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(y.Emitter);t.Manager=v},"5d34":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=o(n("7e84"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,r.default)(e),null===e)break;return e}},"66cc":function(e,t,n){"use strict";var r=n("4ea4");n("c975"),n("a434"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var o=r(n("d4ec")),i=r(n("bee2")),s=r(n("257e")),a=r(n("262e")),c=r(n("2caf")),u=n("8619"),f=n("f5cf"),l=r(n("b5e0")),h=r(n("8cca")),d=n("1fac"),p=n("5806"),y=function(e){(0,a.default)(n,e);var t=(0,c.default)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,n),r=t.call(this),e&&"object"===typeof e&&(i=e,e=null),e?(e=(0,h.default)(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=(0,h.default)(i.host).host),(0,f.installTimerFunctions)((0,s.default)(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=i.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=l.default.decode(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close")},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return(0,i.default)(n,[{key:"createTransport",value:function(e){var t=v(this.opts.query);t.EIO=p.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new u.transports[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),o=!1;n.priorWebsocketSuccess=!1;var i=function(){o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!o)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){o||"closed"!==t.readyState&&(l(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=r.name,t.emitReserved("upgradeError",i)}})))};function s(){o||(o=!0,l(),r.close(),r=null)}var a=function(e){var n=new Error("probe error: "+e);n.transport=r.name,s(),t.emitReserved("upgradeError",n)};function c(){a("transport closed")}function u(){a("socket closed")}function f(e){r&&e.name!==r.name&&s()}var l=function(){r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",c),t.off("close",u),t.off("upgrading",f)};r.once("open",i),r.once("error",a),r.once("close",c),this.once("close",u),this.once("upgrading",f),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(d.Emitter);function v(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}t.Socket=y,y.protocol=p.protocol},"6c21":function(e,t,n){"use strict";var r=n("4ea4");n("a4d3"),n("e01a"),Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var o=r(n("d4ec")),i=r(n("bee2")),s=r(n("257e")),a=r(n("45eb")),c=r(n("7e84")),u=r(n("262e")),f=r(n("2caf")),l=n("5806"),h=n("1fac"),d=n("f5cf"),p=function(e){(0,u.default)(n,e);var t=(0,f.default)(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this),r.writable=!1,(0,d.installTimerFunctions)((0,s.default)(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return(0,i.default)(n,[{key:"onError",value:function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,(0,a.default)((0,c.default)(n.prototype),"emit",this).call(this,"error",r),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,(0,a.default)((0,c.default)(n.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(e){var t=(0,l.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){(0,a.default)((0,c.default)(n.prototype),"emit",this).call(this,"packet",e)}},{key:"onClose",value:function(){this.readyState="closed",(0,a.default)((0,c.default)(n.prototype),"emit",this).call(this,"close")}}]),n}(h.Emitter);t.Transport=p},"6ef8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=c,Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}}),Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}}),Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return s.protocol}});var r=n("7b95"),o=n("5be4"),i=n("23e0"),s=n("2246"),a={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=(0,r.url)(e,t.path||"/socket.io"),s=i.source,c=i.id,u=i.path,f=a[c]&&u in a[c]["nsps"],l=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return l?n=new o.Manager(s,t):(a[c]||(a[c]=new o.Manager(s,t)),n=a[c]),i.query&&!t.query&&(t.query=i.queryKey),n.socket(i.path,t)}Object.assign(c,{Manager:o.Manager,Socket:i.Socket,io:c,connect:c})},"6f86":function(e,t,n){"use strict";var r=n("4ea4");n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;var o=r(n("86b2")),i=function(){var e="function"===typeof Promise&&"function"===typeof Promise.resolve;return e?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)}}();t.nextTick=i;var s=o.default.WebSocket||o.default.MozWebSocket;t.WebSocket=s;var a=!0;t.usingBrowserWebSocket=a;var c="arraybuffer";t.defaultBinaryType=c},"7b95":function(e,t,n){"use strict";var r=n("4ea4");n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.url=i;var o=r(n("8cca"));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=(0,o.default)(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":"),s=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}},"7e84":function(e,t,n){"use strict";function r(e){return t.default=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n("3410"),n("131a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"82da":function(e,t,n){var r=n("23e7"),o=n("ebb5"),i=o.NATIVE_ARRAY_BUFFER_VIEWS;r({target:"ArrayBuffer",stat:!0,forced:!i},{isView:o.isView})},8390:function(e,t){(function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),l=new Uint8Array(f);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],l[u++]=r<<2|o>>4,l[u++]=(15&o)<<4|i>>2,l[u++]=(3&i)<<6|63&s;return f}})()},8619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;var r=n("9d6f"),o=n("e174"),i={websocket:o.WS,polling:r.XHR};t.transports=i},"86b2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()}();t.default=r},8725:function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},"8cca":function(e,t,n){n("c975"),n("a434"),n("ac1f"),n("5319"),n("1276");var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function i(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1),"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1),r}function s(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}e.exports=function(e){var t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));var c=r.exec(e||""),u={},f=14;while(f--)u[o[f]]=c[f]||"";return-1!=n&&-1!=a&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=i(u,u["path"]),u.queryKey=s(u,u["query"]),u}},"99de":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=i(n("53ca")),o=i(n("257e"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return!t||"object"!==(0,r.default)(t)&&"function"!==typeof t?(0,o.default)(e):t}},"9d6f":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.XHR=void 0;var o=r(n("257e")),i=r(n("d4ec")),s=r(n("bee2")),a=r(n("262e")),c=r(n("2caf")),u=r(n("10b5")),f=r(n("86b2")),l=n("f5cf"),h=n("1fac"),d=n("32ad");function p(){}var y=function(){var e=new u.default({xdomain:!1});return null!=e.responseType}(),v=function(e){(0,a.default)(n,e);var t=(0,c.default)(n);function n(e){var r;if((0,i.default)(this,n),r=t.call(this,e),"undefined"!==typeof location){var o="https:"===location.protocol,s=location.port;s||(s=o?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||s!==e.port,r.xs=e.secure!==o}var a=e&&e.forceBase64;return r.supportsBinary=y&&!a,r}return(0,s.default)(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new b(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e){n.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(d.Polling);t.XHR=v;var b=function(e){(0,a.default)(n,e);var t=(0,c.default)(n);function n(e,r){var s;return(0,i.default)(this,n),s=t.call(this),(0,l.installTimerFunctions)((0,o.default)(s),r),s.opts=r,s.method=r.method||"GET",s.uri=e,s.async=!1!==r.async,s.data=void 0!==r.data?r.data:null,s.create(),s}return(0,s.default)(n,[{key:"create",value:function(){var e=this,t=(0,l.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new u.default(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(i){return void this.setTimeoutFn((function(){e.onError(i)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=p,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"abort",value:function(){this.cleanup()}}]),n}(h.Emitter);if(t.Request=b,b.requestsCount=0,b.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",k);else if("function"===typeof addEventListener){var m="onpagehide"in f.default?"pagehide":"unload";addEventListener(m,k,!1)}function k(){for(var e in b.requests)b.requests.hasOwnProperty(e)&&b.requests[e].abort()}},b380:function(e,t,n){"use strict";function r(e,n){return t.default=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,n)}n("131a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},b5e0:function(e,t,n){n("ac1f"),n("1276"),t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},b85c:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=o(n("06c5"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw s}}}}},bf19:function(e,t,n){"use strict";var r=n("23e7");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},c20e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deconstructPacket=o,t.reconstructPacket=s;var r=n("d57d");function o(e){var t=[],n=e.data,r=e;return r.data=i(n,t),r.attachments=t.length,{packet:r,buffers:t}}function i(e,t){if(!e)return e;if((0,r.isBinary)(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=i(e[s],t);return o}if("object"===typeof e&&!(e instanceof Date)){var a={};for(var c in e)e.hasOwnProperty(c)&&(a[c]=i(e[c],t));return a}return e}function s(e,t){return e.data=a(e.data,t),e.attachments=void 0,e}function a(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=a(e[n],t);else if("object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&(e[r]=a(e[r],t));return e}},c444:function(e,t,n){"use strict";n("4160"),n("b64b"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;var r=Object.create(null);t.PACKET_TYPES=r,r["open"]="0",r["close"]="1",r["ping"]="2",r["pong"]="3",r["message"]="4",r["upgrade"]="5",r["noop"]="6";var o=Object.create(null);t.PACKET_TYPES_REVERSE=o,Object.keys(r).forEach((function(e){o[r[e]]=e}));var i={type:"error",data:"parser error"};t.ERROR_PACKET=i},d2d3:function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},d57d:function(e,t,n){"use strict";n("c19f"),n("82da"),n("ace4"),n("f4b3"),n("d3b7"),n("25f0"),n("bf19"),Object.defineProperty(t,"__esModule",{value:!0}),t.isBinary=c,t.hasBinary=u;var r="function"===typeof ArrayBuffer,o=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},i=Object.prototype.toString,s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);function c(e){return r&&(e instanceof ArrayBuffer||o(e))||s&&e instanceof Blob||a&&e instanceof File}function u(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(u(e[n]))return!0;return!1}if(c(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return u(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&u(e[o]))return!0;return!1}},d967:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("d3b7"),n("4ae1"),n("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},dca8:function(e,t,n){var r=n("23e7"),o=n("bb2f"),i=n("d039"),s=n("861d"),a=n("f183").onFreeze,c=Object.freeze,u=i((function(){c(1)}));r({target:"Object",stat:!0,forced:u,sham:!o},{freeze:function(e){return c&&s(e)?c(a(e)):e}})},e174:function(e,t,n){"use strict";(function(e){var r=n("4ea4");n("c975"),n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;var o=r(n("d4ec")),i=r(n("bee2")),s=r(n("262e")),a=r(n("2caf")),c=n("6c21"),u=r(n("b5e0")),f=r(n("fcd9")),l=n("f5cf"),h=n("6f86"),d=n("5806"),p="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),y=function(t){(0,s.default)(r,t);var n=(0,a.default)(r);function r(e){var t;return(0,o.default)(this,r),t=n.call(this,e),t.supportsBinary=!e.forceBase64,t}return(0,i.default)(r,[{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=p?{}:(0,l.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=h.usingBrowserWebSocket&&!p?t?new h.WebSocket(e,t):new h.WebSocket(e):new h.WebSocket(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||h.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(t){var n=this;this.writable=!1;for(var r=function(r){var o=t[r],i=r===t.length-1;(0,d.encodePacket)(o,n.supportsBinary,(function(t){var r={};if(!h.usingBrowserWebSocket&&(o.options&&(r.compress=o.options.compress),n.opts.perMessageDeflate)){var s="string"===typeof t?e.byteLength(t):t.length;s<n.opts.perMessageDeflate.threshold&&(r.compress=!1)}try{h.usingBrowserWebSocket?n.ws.send(t):n.ws.send(t,r)}catch(a){}i&&(0,h.nextTick)((function(){n.writable=!0,n.emit("drain")}),n.setTimeoutFn)}))},o=0;o<t.length;o++)r(o)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,f.default)()),this.supportsBinary||(e.b64=1);var r=u.default.encode(e),o=-1!==this.opts.hostname.indexOf(":");return t+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!h.WebSocket&&!("__initialize"in h.WebSocket&&this.name===r.prototype.name)}},{key:"name",get:function(){return"websocket"}}]),r}(c.Transport);t.WS=y}).call(this,n("b639").Buffer)},f4b3:function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("7b0b"),s=n("c04e"),a=o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));r({target:"Date",proto:!0,forced:a},{toJSON:function(e){var t=i(this),n=s(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},f5cf:function(e,t,n){"use strict";var r=n("4ea4");n("13d5"),Object.defineProperty(t,"__esModule",{value:!0}),t.pick=i,t.installTimerFunctions=c;var o=r(n("86b2"));function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var s=setTimeout,a=clearTimeout;function c(e,t){t.useNativeTimers?(e.setTimeoutFn=s.bind(o.default),e.clearTimeoutFn=a.bind(o.default)):(e.setTimeoutFn=setTimeout.bind(o.default),e.clearTimeoutFn=clearTimeout.bind(o.default))}},f8a8:function(e,t,n){"use strict";n("c19f"),n("ace4"),n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("c444"),o=n("8390"),i="function"===typeof ArrayBuffer,s=function(e,t){if("string"!==typeof e)return{type:"message",data:c(e,t)};var n=e.charAt(0);if("b"===n)return{type:"message",data:a(e.substring(1),t)};var o=r.PACKET_TYPES_REVERSE[n];return o?e.length>1?{type:r.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:r.PACKET_TYPES_REVERSE[n]}:r.ERROR_PACKET},a=function(e,t){if(i){var n=(0,o.decode)(e);return c(n,t)}return{base64:!0,data:e}},c=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},u=s;t.default=u},fbcb:function(e,t,n){"use strict";n("c19f"),n("82da"),n("ace4"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("c444"),o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"===typeof ArrayBuffer,s=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},a=function(e,t,n){var a=e.type,u=e.data;return o&&u instanceof Blob?t?n(u):c(u,n):i&&(u instanceof ArrayBuffer||s(u))?t?n(u):c(new Blob([u]),n):n(r.PACKET_TYPES[a]+(u||""))},c=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},u=a;t.default=u},fcd9:function(e,t,n){"use strict";n("ac1f"),n("1276");var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,s={},a=0,c=0;function u(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function f(e){var t=0;for(c=0;c<e.length;c++)t=t*i+s[e.charAt(c)];return t}function l(){var e=u(+new Date);return e!==r?(a=0,r=e):e+"."+u(a++)}for(;c<i;c++)s[o[c]]=c;l.encode=u,l.decode=f,e.exports=l}}]);